{% extends "layouts/base.html" %}

{% block title %} Freelancer Page {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <main>

        <!-- Hero -->
        <div class="section-header bg-primary-app pb-0">
            <div class="container">
                <div class="row justify-content-center text-center">
                    <div class="col-lg-8">
                        <div class="mt-4 mb-5">
                            <h1 class="display-2 fw-normal my-4">{{ station.address }}</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Hero section -->

        <div class="section bg-primary-app pb-3">
          <div class="container">
              <div class="row justify-content-center text-center">
                <div class="mt-4 mb-5">
                  <h1 class="display-2 fw-normal my-4">Transactions</h1>
                </div>
                <div class="col-xs-8 col-xs-offset-2 well">
                  <table id="transaction-table" class="table table-scroll table-dark table-hover pb-5">
                      <thead>
                          <tr>
                              <th>#</th>
                              <th>Date</th>
                              <th>Fuel</th>
                              <th>Price</th>
                              <th>Amount</th>
                              <th>Total</th>
                          </tr>
                      </thead>
                      <tbody>
                        {% for transaction in station.transactions.all %}
                          <tr>
                              <td>{{ transaction.pk }}</td>
                              <td>{{ transaction.date }}</td>
                              <td>{{ transaction.fuel.name }}</td>
                              <td>{{ transaction.fuel.price }}</td>
                              <td>{{ transaction.amount }}</td>
                              <td>{{ transaction.total }}</td>
                          </tr>
                        {% endfor %}
                      </tbody>
                  </table>
                </div>
              </div>
          </div>
        </div>

        <div class="section section-lg bg-primary-app pb-0">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-12 col-md-8 text-center mb-4 mb-lg-6">
                        <h2 class="display-2 fw-bold">
                            Managers
                        </h2>
                        <p class="lead">They are responsible for it, not me!</p>
                    </div>
                </div>
                {% for manager in station.managers.all %}
                <div class="row align-items-center">
                    <div class="col-md-6 col-lg-4 text-center">
                        <div class="card border-gray-300 mb-4">
                            <div class="card-body py-5">
                              <p class="lead">{{ manager.username }}</p>
                                <p class="card-text py-4 mb-0">{{ manager.first_name }} {{ manager.last_name }}</p>
                                <a href="{% url 'stations:manager-detail' manager.pk %}" class="btn btn-primary btn-sm">See profile</a>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

    </main>

    {% include 'includes/footer.html' %}

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
